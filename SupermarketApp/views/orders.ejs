<%- include('partials/head', { pageTitle: 'Orders overview', bodyClass: 'page-orders' }) %>

<section class="glass-panel">
  <div class="d-flex justify-content-between flex-wrap align-items-center mb-4">
    <div>
      <h2 class="section-title mb-1">Orders</h2>
      <p class="subtle-text mb-0">Here is your order list.</p>
    </div>
    <a class="btn btn-secondary" href="/shopping">Back to store</a>
  </div>

  <% if (!orders || orders.length === 0) { %>
    <div class="empty-state">
      <h4>No orders yet</h4>
    </div>
  <% } else { %>
    <table class="table-modern">
      <thead>
        <tr>
          <th>Order ID</th>
          <th>Date</th>
          <th>Total</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <% orders.forEach(order => { %>
          <tr>
            <td>#<%= order.id %></td>
            <td><%= order.created_at.toLocaleString() %></td>
            <td>$<%= order.total.toFixed(2) %></td>
            <td><a class="btn btn-link" href="/orders/<%= order.id %>">View</a></td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  <% } %>
</section>

<%- include('partials/footer') %>
